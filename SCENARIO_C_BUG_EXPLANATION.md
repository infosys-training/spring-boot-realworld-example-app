# Favorites Race Condition Bug - Scenario C

The favorites race condition bug in Scenario C demonstrates a classic concurrency issue where multiple threads can simultaneously access and modify shared data without proper synchronization. The bug occurs in the `MyBatisArticleFavoriteRepository.save()` method, which implements a check-then-insert pattern: it first checks if a favorite already exists, and if not, inserts a new one. However, between the check and the insert operations, there's an artificial 10ms delay that creates a race condition window where multiple threads can pass the existence check simultaneously and then all proceed to insert duplicate favorites. This results in inconsistent favorite counts, duplicate database records, and data integrity issues that only manifest under concurrent load, making it a particularly challenging bug to identify and reproduce in single-threaded testing scenarios.
